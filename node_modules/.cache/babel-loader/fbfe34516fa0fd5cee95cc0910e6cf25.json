{"ast":null,"code":"import _defineProperty from \"/Users/pradeepkumar/Downloads/meadmin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/pradeepkumar/Downloads/meadmin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/pradeepkumar/Downloads/meadmin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/pradeepkumar/Downloads/meadmin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/pradeepkumar/Downloads/meadmin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/pradeepkumar/Downloads/meadmin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/pradeepkumar/Downloads/meadmin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/pradeepkumar/Downloads/meadmin/src/components/CMS/addCms.js\";\nimport React from 'react';\nimport AppConstants from 'AppConstants';\nimport axios from 'axios';\nimport Page from 'components/Page';\nimport { Row, Col, Card, CardBody, Form, FormGroup, Label, Input, Button } from 'reactstrap';\nimport { Link } from 'react-router-dom';\nimport CKEditor from \"react-ckeditor-component\";\nimport Loading from 'assets/img/loader.gif';\nimport { ReactTitle } from 'react-meta-tags';\n\nvar AddCms = /*#__PURE__*/function (_React$Component) {\n  _inherits(AddCms, _React$Component);\n\n  function AddCms() {\n    var _this;\n\n    _classCallCheck(this, AddCms);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddCms).call(this));\n    _this.state = {\n      errors: {},\n      title: '',\n      description: '',\n      title_error: false,\n      description_error: false\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleInputChange = _this.handleInputChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(AddCms, [{\n    key: \"handleInputChange\",\n    value: function handleInputChange(e) {\n      // console.log(e.target.name)\n      if (e.target.name == \"title\") {\n        if (e.target.value != \"\") {\n          this.setState({\n            title_error: false\n          });\n        }\n      }\n\n      this.setState(_defineProperty({}, e.target.name, e.target.value));\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(evt) {\n      // console.log(evt)\n      var newContent = evt.editor.getData();\n      this.setState({\n        content: newContent\n      });\n\n      if (newContent) {\n        this.setState({\n          description_error: false\n        });\n      }\n    }\n  }, {\n    key: \"onBlur\",\n    value: function onBlur(evt) {\n      console.log(\"onBlur event called with event info: \", evt);\n    }\n  }, {\n    key: \"afterPaste\",\n    value: function afterPaste(evt) {\n      console.log(\"afterPaste event called with event info: \", evt);\n    }\n  }, {\n    key: \"handleValidation\",\n    value: function handleValidation() {\n      var errors = {};\n      var formIsValid = true;\n\n      if (!this.state.title) {\n        formIsValid = false;\n        errors[\"title\"] = \"Please enter title\";\n      }\n\n      if (!this.state.content) {\n        formIsValid = false;\n        errors[\"description\"] = \"Please enter description\";\n      }\n\n      this.setState({\n        errors: errors,\n        title_error: true,\n        description_error: true\n      });\n      return formIsValid;\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      var _this2 = this;\n\n      // console.log(\"this.state.title\",this.state.title,\"this.state.content\",this.state.content)\n      e.preventDefault();\n      var formval = {};\n\n      if (this.handleValidation()) {\n        this.setState({\n          loading: 1\n        }); // console.log(\"handleValidation\")\n\n        formval = {\n          title: this.state.title,\n          description: this.state.content\n        };\n        axios.post(AppConstants.API + '/cms/addCms', formval).then(function (res) {\n          // console.log(\"ressss\",res);   \n          if (res.data.status == \"success\") {\n            setTimeout(function (e) {\n              _this2.props.history.push('/cms');\n            }, 2000);\n            setTimeout(function () {\n              _this2.setState({\n                loading: '',\n                errMsg: /*#__PURE__*/React.createElement(\"div\", {\n                  className: \"alert alert-success fade show mt-3\",\n                  __self: _this2,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 100,\n                    columnNumber: 27\n                  }\n                }, res.data.msg)\n              });\n            }, 1000);\n          } else {\n            setTimeout(function () {\n              _this2.setState({\n                loading: '',\n                errMsg: /*#__PURE__*/React.createElement(\"div\", {\n                  className: \"alert alert-danger fade show mt-3\",\n                  __self: _this2,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 108,\n                    columnNumber: 27\n                  }\n                }, res.data.msg)\n              });\n            }, 1000);\n          }\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var element = document.getElementById(\"navItem-Cms-0\");\n      element.classList.add(\"active\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(Page, {\n        className: \"cms-edit\",\n        title: \"Add CMS\"\n        /* breadcrumbs={[{ name: 'Add Ask Assistance', active: true }]} */\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(ReactTitle, {\n        title: \"Add CMS\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"cst-breadcrumb\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 16\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: '/dashboard',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 20\n        }\n      }, \"Home\"), \" \"), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 16\n        }\n      }, \"  \", /*#__PURE__*/React.createElement(Link, {\n        to: '/cms',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 22\n        }\n      }, \"  CMS \"), \" \"), /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 16\n        }\n      }, \" Add CMS\")), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 12\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        xl: 12,\n        lg: 12,\n        md: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 14\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 16\n        }\n      }, /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 18\n        }\n      }, /*#__PURE__*/React.createElement(Form, {\n        name: \"changeadminpassword\",\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 20\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        row: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 22\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"title\",\n        sm: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 24\n        }\n      }, \"Title \", /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          color: 'red'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 30\n        }\n      }, \" * \")), /*#__PURE__*/React.createElement(Col, {\n        sm: 10,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 24\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        type: \"text\",\n        name: \"title\",\n        placeholder: \"Title\",\n        value: this.state.title,\n        onChange: this.handleInputChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 26\n        }\n      }), this.state.title_error == true ? /*#__PURE__*/React.createElement(\"span\", {\n        className: \"error\",\n        style: {\n          color: 'red'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 60\n        }\n      }, this.state.errors[\"title\"]) : \"\")), /*#__PURE__*/React.createElement(FormGroup, {\n        row: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 22\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"description\",\n        sm: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 24\n        }\n      }, \"Description \", /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          color: 'red'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 36\n        }\n      }, \" * \")), /*#__PURE__*/React.createElement(Col, {\n        sm: 10,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 24\n        }\n      }, /*#__PURE__*/React.createElement(CKEditor, {\n        activeClass: \"editor12\",\n        content: this.state.content,\n        events: {\n          \"blur\": this.onBlur,\n          \"afterPaste\": this.afterPaste,\n          \"change\": this.onChange\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 27\n        }\n      }), this.state.description_error == true ? /*#__PURE__*/React.createElement(\"span\", {\n        className: \"error\",\n        style: {\n          color: 'red'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 67\n        }\n      }, this.state.errors[\"description\"]) : \"\")), /*#__PURE__*/React.createElement(FormGroup, {\n        check: true,\n        row: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 22\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        sm: {\n          size: 10,\n          offset: 2\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 24\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        className: \"btn btn-primary\",\n        onClick: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 26\n        }\n      }, \"Save\", /*#__PURE__*/React.createElement(\"div\", {\n        disabled: !this.state.zipcode,\n        style: this.state.loading ? {} : {\n          display: 'none'\n        },\n        className: \"image-fill w-25 loader-div \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 30\n        }\n      }, \"               \", /*#__PURE__*/React.createElement(\"div\", {\n        class: \"clearfix\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 175\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"spinner-border spinner-border-sm\",\n        role: \"status\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 3\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        class: \"sr-only\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 5\n        }\n      }, \"Loading...\"))))), \"\\xA0\", /*#__PURE__*/React.createElement(Link, {\n        to: \"/cms\",\n        className: \"btn btn-danger\",\n        title: \"Cancel\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 26\n        }\n      }, \"\\xA0Cancel\"))), this.state.errMsg))))));\n    }\n  }]);\n\n  return AddCms;\n}(React.Component);\n\nexport default AddCms;","map":{"version":3,"sources":["/Users/pradeepkumar/Downloads/meadmin/src/components/CMS/addCms.js"],"names":["React","AppConstants","axios","Page","Row","Col","Card","CardBody","Form","FormGroup","Label","Input","Button","Link","CKEditor","Loading","ReactTitle","AddCms","state","errors","title","description","title_error","description_error","handleSubmit","bind","handleInputChange","onChange","e","target","name","value","setState","evt","newContent","editor","getData","content","console","log","formIsValid","preventDefault","formval","handleValidation","loading","post","API","then","res","data","status","setTimeout","props","history","push","errMsg","msg","element","document","getElementById","classList","add","color","onBlur","afterPaste","size","offset","zipcode","display","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport AppConstants from 'AppConstants';\nimport axios from 'axios';\nimport Page from 'components/Page';\nimport {\n    Row,\n    Col,\n    Card,\n    CardBody,\n    Form,\n    FormGroup,\n    Label,\n    Input,\n    Button,\n  } from 'reactstrap';\nimport { Link } from 'react-router-dom';\nimport CKEditor from \"react-ckeditor-component\";\nimport Loading from 'assets/img/loader.gif';\nimport {ReactTitle} from 'react-meta-tags';\n\nclass AddCms extends React.Component{\n    constructor(){\n        super();\n        this.state = {\n            errors:{},\n            title :'',\n            description:'',\n            title_error : false,\n            description_error : false\n        }\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleInputChange = this.handleInputChange.bind(this);\n        this.onChange = this.onChange.bind(this);\n    }\n\n    handleInputChange(e){\n      // console.log(e.target.name)\n      if(e.target.name == \"title\"){\n        if(e.target.value != \"\"){\n            this.setState({title_error:false})\n        }\n      }\n      this.setState({[e.target.name]:e.target.value});\n    }\n    onChange(evt){\n      // console.log(evt)\n      var newContent = evt.editor.getData();\n      this.setState({\n        content: newContent\n      })\n      if (newContent) {\n        this.setState({description_error:false})\n      }\n    }\n    onBlur(evt){\n      console.log(\"onBlur event called with event info: \", evt);\n    }\n    afterPaste(evt){\n      console.log(\"afterPaste event called with event info: \", evt);\n    }\n    handleValidation(){\n      let errors = {};\n      let formIsValid = true;\n      if(!this.state.title) {\n          formIsValid = false;\n          errors[\"title\"] = \"Please enter title\";\n      }\n      if(!this.state.content){\n          formIsValid = false;\n          errors[\"description\"] = \"Please enter description\";\n      }\n      this.setState({\n        errors: errors,\n        title_error : true,\n        description_error:true\n      });\n      return formIsValid;\n    }\n    handleSubmit(e){\n      // console.log(\"this.state.title\",this.state.title,\"this.state.content\",this.state.content)\n      e.preventDefault();\n      let formval={} \n      if(this.handleValidation()){\n        this.setState({loading:1});\n        // console.log(\"handleValidation\")\n        formval = {\n            title : this.state.title,\n            description:this.state.content\n        }\n        axios.post(AppConstants.API+'/cms/addCms',formval)\n        .then(res => {   \n          // console.log(\"ressss\",res);   \n          if(res.data.status == \"success\"){\n            setTimeout((e) => {\n                this.props.history.push('/cms');\n            }, 2000);\n            setTimeout(() => {\n              this.setState({\n                loading:'',\n                errMsg:  (<div className=\"alert alert-success fade show mt-3\">{res.data.msg}</div>),\n              });\n            }, 1000);\n          }\n          else{\n            setTimeout(() => {\n              this.setState({\n                loading:'',\n                errMsg:  (<div className=\"alert alert-danger fade show mt-3\">{res.data.msg}</div>),\n              });\n            }, 1000);\n          }\n        });\n      } \n    }\n    componentDidMount(){\n      var element = document.getElementById(\"navItem-Cms-0\");\n      element.classList.add(\"active\");\n    }\n    render(){\n        return(\n            <Page className=\"cms-edit\" title=\"Add CMS\" /* breadcrumbs={[{ name: 'Add Ask Assistance', active: true }]} */>\n            <ReactTitle title=\"Add CMS\"/>\n            <ul className=\"cst-breadcrumb\">\n               <li><Link to={'/dashboard'}>Home</Link> </li>\n               <li>  <Link to={'/cms'}>  CMS </Link> </li>\n               <li> Add CMS</li>\n             </ul>\n           <Row>\n             <Col xl={12} lg={12} md={12}>\n               <Card>\n                 <CardBody>\n                   <Form name=\"changeadminpassword\" onSubmit= { this.handleSubmit }>\n                     <FormGroup row>\n                       <Label for=\"title\" sm={2}>\n                       Title <span style={{color: 'red'}}> * </span>\n                       </Label>\n                       <Col sm={10}>\n                         <Input\n                           type=\"text\"\n                           name=\"title\"\n                           placeholder=\"Title\"                      \n                           value={this.state.title}\n                           onChange={ this.handleInputChange }                  \n                         />\n                         {this.state.title_error == true ? <span className=\"error\" style={{color: 'red'}}>{this.state.errors[\"title\"]}</span> : \"\"}\n                       </Col>\n                     </FormGroup>\n                     <FormGroup row>\n                       <Label for=\"description\" sm={2}>\n                       Description <span style={{color: 'red'}}> * </span>\n                       </Label>\n                       <Col sm={10}>\n                          <CKEditor activeClass=\"editor12\" content={this.state.content} events={{\n                          \"blur\": this.onBlur,\n                          \"afterPaste\": this.afterPaste,\n                          \"change\": this.onChange\n                          }}/>\n                          {this.state.description_error == true ? <span className=\"error\" style={{color: 'red'}}>{this.state.errors[\"description\"]}</span>:\"\"}\n                       </Col>\n                     </FormGroup>\n                     <FormGroup check row>\n                       <Col   sm={{ size: 10, offset: 2 }}>\n                         <Button className=\"btn btn-primary\" onClick={ this.handleSubmit }>Save\n                             <div disabled={!this.state.zipcode} style={this.state.loading ? {} : { display: 'none' }} className=\"image-fill w-25 loader-div \">               <div class=\"clearfix\">\n  <div class=\"spinner-border spinner-border-sm\" role=\"status\">\n    <span class=\"sr-only\">Loading...</span>\n  </div>\n</div></div>\n                         </Button>&nbsp;\n                         <Link to={\"/cms\"} className=\"btn btn-danger\" title=\"Cancel\">&nbsp;Cancel</Link>\n                       </Col>\n                     </FormGroup>\n                     {this.state.errMsg}\n                   </Form>\n                 </CardBody>\n               </Card>\n             </Col>\n           </Row>\n          \n         </Page>\n        )\n    }\n}\nexport default AddCms;\n"]},"metadata":{},"sourceType":"module"}