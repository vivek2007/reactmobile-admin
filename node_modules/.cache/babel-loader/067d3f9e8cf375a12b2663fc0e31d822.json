{"ast":null,"code":"import _classCallCheck from \"/home/anil/Documents/Anil-Personal/mobileexpertAdmin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anil/Documents/Anil-Personal/mobileexpertAdmin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anil/Documents/Anil-Personal/mobileexpertAdmin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anil/Documents/Anil-Personal/mobileexpertAdmin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anil/Documents/Anil-Personal/mobileexpertAdmin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/anil/Documents/Anil-Personal/mobileexpertAdmin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/anil/Documents/Anil-Personal/mobileexpertAdmin/src/components/Allparents/viewParentTodos.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport AppConstants from 'AppConstants';\nimport { ReactTitle } from 'react-meta-tags';\nimport Page from 'components/Page';\nimport { Card, CardBody, Row, CardHeader, Label } from 'reactstrap';\nimport { BootstrapTable, TableHeaderColumn } from 'react-bootstrap-table';\nimport { MdAdd, MdEdit, MdDelete } from 'react-icons/md';\nimport { connect } from 'react-redux';\nimport swal from 'sweetalert';\nimport axios from 'axios';\nimport Workbook from 'react-xlsx-workbook';\nimport moment from \"moment\";\nimport ParentIcon from 'assets/img/parents.png';\n\nvar ViewParentTodos = /*#__PURE__*/function (_React$Component) {\n  _inherits(ViewParentTodos, _React$Component);\n\n  function ViewParentTodos() {\n    var _this;\n\n    _classCallCheck(this, ViewParentTodos);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ViewParentTodos).call(this));\n    _this.state = {\n      child_todos: [],\n      child_todos_data: [],\n      totalDataSize: 0,\n      sizePerPage: 10,\n      currentPage: 1,\n      sortName: '',\n      sortOrder: '',\n      searchText: ''\n    };\n    _this.onPageChange = _this.onPageChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onSizePerPageList = _this.onSizePerPageList.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onSortChange = _this.onSortChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onSearchChange = _this.onSearchChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.renderShowsTotal = _this.renderShowsTotal.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ViewParentTodos, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updateProvidersList(this.state.currentPage, this.state.sizePerPage, this.state.sortName, this.state.sortOrder, this.state.searchText);\n    }\n  }, {\n    key: \"renderShowsTotal\",\n    value: function renderShowsTotal(start, to, paginationShowsTotal) {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 9\n        }\n      }, \"Showing rows \", start, \" to \", to, \" of \", paginationShowsTotal);\n    }\n  }, {\n    key: \"onSizePerPageList\",\n    value: function onSizePerPageList(sizePerPage) {\n      var page = 1;\n      this.updateProvidersList(page, sizePerPage, this.state.sortName, this.state.sortOrder, this.state.searchText);\n    }\n  }, {\n    key: \"onPageChange\",\n    value: function onPageChange(page, sizePerPage) {\n      this.updateProvidersList(page, sizePerPage, this.state.sortName, this.state.sortOrder, this.state.defaultSearchText);\n    }\n  }, {\n    key: \"onSortChange\",\n    value: function onSortChange(sortName, sortOrder) {\n      var page = 1;\n      this.updateProvidersList(page, this.state.sizePerPage, sortName, sortOrder, this.state.searchText);\n    }\n  }, {\n    key: \"onSearchChange\",\n    value: function onSearchChange(searchText, colInfos, multiColumnSearch) {\n      if (searchText && searchText !== \"\") {\n        searchText = searchText;\n      } else {\n        searchText = '';\n      }\n\n      var page = 1;\n      this.updateProvidersList(page, this.state.sizePerPage, this.state.sortName, this.state.sortOrder, searchText);\n    }\n  }, {\n    key: \"updateProvidersList\",\n    value: function updateProvidersList(page, sizePerPage, sortName, sortOrder, searchText) {\n      var _this2 = this;\n\n      if (searchText && searchText !== \"\") {\n        searchText = searchText;\n      } else if (this.state.searchText && this.state.searchText !== \"\") {\n        searchText = this.state.searchText;\n      } else {\n        searchText = '';\n      }\n\n      var tablefilterdata = {\n        page: page,\n        sizeperpage: sizePerPage,\n        sortname: sortName,\n        sortorder: sortOrder,\n        serchtext: searchText,\n        defaultSearchText: searchText\n      };\n      axios.post(AppConstants.API + '/parent/getParentTodosStatus/' + this.props.data, tablefilterdata).then(function (res) {\n        console.log(res.data.data[0]);\n        var child_data = [];\n\n        if (res.data.Status === 'Success') {\n          console.log(\"res.data.data\", res.data); // if(res.data.data[0]){\n          //     child_data = res.data.data[0].todos_data\n          // }\n\n          _this2.setState({\n            parents: res.data.data,\n            currentPage: page,\n            sizePerPage: sizePerPage,\n            sortName: sortName,\n            sortOrder: sortOrder,\n            serchtext: searchText,\n            defaultSearchText: searchText\n          });\n        }\n      });\n      axios.post(AppConstants.API + '/parent/getParentTodosStatusCount/' + this.props.data, tablefilterdata).then(function (res) {\n        if (res.data.Status === 'Success') {\n          _this2.setState({\n            totalDataSize: res.data.data,\n            serchText: searchText,\n            defaultSearchText: searchText\n          });\n        }\n      });\n    }\n  }, {\n    key: \"handleDueDate\",\n    value: function handleDueDate(cell, row) {\n      var today = moment(new Date()).format('MM-DD-YYYY');\n      var dueDate = moment(cell).add(row.period, 'd').format('MM-DD-YYYY');\n\n      if (dueDate < today) {\n        // console.log(\"duebbbbbbbbbbb\",dueDate)\n        return /*#__PURE__*/React.createElement(\"span\", {\n          className: \"overdue-todo\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 17\n          }\n        }, dueDate);\n      } else {\n        return /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 17\n          }\n        }, dueDate);\n      }\n    }\n  }, {\n    key: \"handleResource\",\n    value: function handleResource(cell, row) {\n      var _this3 = this;\n\n      var arr = [];\n      cell.map(function (item, index) {\n        row.resources_id.map(function (item1, i) {\n          var data1 = {};\n\n          if (i == index) {\n            // console.log(item,item1)\n            data1[\"name\"] = item;\n            data1[\"id\"] = item1;\n            arr.push(data1);\n          }\n        });\n      });\n      return /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 9\n        }\n      }, arr.map(function (data, i) {\n        return /*#__PURE__*/React.createElement(Link, {\n          to: '/viewResource/' + data.id,\n          target: \"_blank\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 21\n          }\n        }, data.name, \", \");\n      }));\n    }\n  }, {\n    key: \"handleCompletedDate\",\n    value: function handleCompletedDate(cell, row) {\n      if (cell.length != 0) {\n        // console.log(moment(cell[0]).format('MM-DD-YYYY'))\n        return moment(cell[0]).format('MM-DD-YYYY');\n      } else {\n        return /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 20\n          }\n        }, \"N/A\");\n      }\n    }\n  }, {\n    key: \"handleStatus\",\n    value: function handleStatus(cell, row) {\n      if (cell != 0) {\n        return /*#__PURE__*/React.createElement(\"span\", {\n          className: \"mr-1 badge badge-success  p-1\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 21\n          }\n        }, \"Complete\");\n      } else {\n        return /*#__PURE__*/React.createElement(\"span\", {\n          className: \"mr-1 badge badge-warning p-1\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 21\n          }\n        }, \"Pending\");\n      }\n    }\n  }, {\n    key: \"handleProgram\",\n    value: function handleProgram(cell, row) {\n      console.log(row, cell);\n      return cell;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var options = {\n        insertText: \"New\",\n        deleteText: 'Delete',\n        saveText: 'Save',\n        closeText: 'Close',\n        insertBtn: this.createCustomInsertButton,\n        page: this.state.currentPage,\n        // which page you want to show as default\n        sizePerPageList: [5, 10, 20, 50],\n        // you can change the dropdown list for size per page\n        sizePerPage: this.state.sizePerPage,\n        // which size per page you want to locate as default\n        pageStartIndex: 1,\n        // where to start counting the pages\n        paginationSize: 3,\n        // the pagination bar size.\n        paginationShowsTotal: this.renderShowsTotal,\n        //this.renderShowsTotal- Accept bool or function\n        // paginationShowsTotal : this.state.child_todos.length,\n        paginationPosition: 'bottom',\n        // default is bottom, top and both is all available\n        onPageChange: this.onPageChange,\n        onSizePerPageList: this.onSizePerPageList,\n        onSortChange: this.onSortChange,\n        onSearchChange: this.onSearchChange,\n        insertModal: this.createCustomModal\n      };\n      return /*#__PURE__*/React.createElement(Row, {\n        className: \"mx-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"pt-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        className: \"d-flex justify-content-between\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"examplePassword\",\n        className: \"m-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 70\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: ParentIcon,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 78\n        }\n      }), \"TO-DO LISTS\"))), /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(BootstrapTable, {\n        data: this.state.parents,\n        remote: true,\n        pagination: true,\n        fetchInfo: {\n          dataTotalSize: this.state.totalDataSize\n        },\n        search: true,\n        multiColumnSearch: true,\n        options: options,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(TableHeaderColumn, {\n        dataField: \"todo_id\",\n        isKey: true,\n        searchable: false,\n        dataSort: true,\n        hidden: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 33\n        }\n      }, \"ID\"), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n        dataField: \"title\",\n        dataSort: true,\n        width: '20%',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 33\n        }\n      }, \"Title\"), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n        dataField: \"child_name\",\n        dataSort: true,\n        width: '20%',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 33\n        }\n      }, \"Child\"), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n        dataField: \"program\",\n        dataFormat: this.handleProgram.bind(this),\n        dataSort: true,\n        width: '20%',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 33\n        }\n      }, \"Program\"), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n        dataField: \"dueDate\",\n        dataSort: true,\n        width: '20%',\n        dataFormat: this.handleDueDate.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 33\n        }\n      }, \"Due Date\"), /*#__PURE__*/React.createElement(TableHeaderColumn, {\n        dataField: \"pendingData\",\n        dataSort: true,\n        width: '20%',\n        dataFormat: this.handleStatus.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 33\n        }\n      }, \"Status\"))))));\n    }\n  }]);\n\n  return ViewParentTodos;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    errors: state.errors\n  };\n};\n\nexport default connect(mapStateToProps, {})(ViewParentTodos);","map":{"version":3,"sources":["/home/anil/Documents/Anil-Personal/mobileexpertAdmin/src/components/Allparents/viewParentTodos.js"],"names":["React","Link","AppConstants","ReactTitle","Page","Card","CardBody","Row","CardHeader","Label","BootstrapTable","TableHeaderColumn","MdAdd","MdEdit","MdDelete","connect","swal","axios","Workbook","moment","ParentIcon","ViewParentTodos","state","child_todos","child_todos_data","totalDataSize","sizePerPage","currentPage","sortName","sortOrder","searchText","onPageChange","bind","onSizePerPageList","onSortChange","onSearchChange","renderShowsTotal","updateProvidersList","start","to","paginationShowsTotal","page","defaultSearchText","colInfos","multiColumnSearch","tablefilterdata","sizeperpage","sortname","sortorder","serchtext","post","API","props","data","then","res","console","log","child_data","Status","setState","parents","serchText","cell","row","today","Date","format","dueDate","add","period","arr","map","item","index","resources_id","item1","i","data1","push","id","name","length","options","insertText","deleteText","saveText","closeText","insertBtn","createCustomInsertButton","sizePerPageList","pageStartIndex","paginationSize","paginationPosition","insertModal","createCustomModal","dataTotalSize","handleProgram","handleDueDate","handleStatus","Component","mapStateToProps","auth","errors"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport AppConstants from 'AppConstants';\nimport {ReactTitle} from 'react-meta-tags';\nimport Page from 'components/Page';\nimport { Card, CardBody, Row,CardHeader,Label} from 'reactstrap';\nimport { BootstrapTable, TableHeaderColumn } from 'react-bootstrap-table';\nimport { MdAdd, MdEdit, MdDelete } from 'react-icons/md';\nimport { connect } from 'react-redux';\nimport swal from 'sweetalert';\nimport axios from 'axios';\nimport Workbook from 'react-xlsx-workbook';\nimport moment from \"moment\";\nimport ParentIcon from 'assets/img/parents.png';\nclass ViewParentTodos extends React.Component{\n    constructor(){\n        super();\n        this.state = {\n            child_todos : [],\n            child_todos_data : [],\n            totalDataSize: 0,\n            sizePerPage: 10,\n            currentPage: 1,\n            sortName: '',\n            sortOrder: '',\n            searchText: '',\n        }\n        this.onPageChange = this.onPageChange.bind(this);\n        this.onSizePerPageList = this.onSizePerPageList.bind(this);\n        this.onSortChange = this.onSortChange.bind(this);\n        this.onSearchChange = this.onSearchChange.bind(this); \n        this.renderShowsTotal = this.renderShowsTotal.bind(this); \n    }\n    componentDidMount(){\n        this.updateProvidersList(this.state.currentPage, this.state.sizePerPage, this.state.sortName, this.state.sortOrder, this.state.searchText);\n    }\n    renderShowsTotal(start, to, paginationShowsTotal) {\n        return (\n        <span >\n           Showing rows { start } to { to } of { paginationShowsTotal }\n        </span>\n        );\n    }\n    onSizePerPageList(sizePerPage) {\n        let page = 1;\n        this.updateProvidersList(page, sizePerPage, this.state.sortName, this.state.sortOrder, this.state.searchText);\n      }\n      onPageChange(page, sizePerPage) {\n        this.updateProvidersList(page, sizePerPage, this.state.sortName, this.state.sortOrder, this.state.defaultSearchText);\n      }\n      onSortChange(sortName, sortOrder) {  \n          let page = 1;\n          this.updateProvidersList(page, this.state.sizePerPage, sortName, sortOrder, this.state.searchText);\n      }\n      onSearchChange(searchText, colInfos, multiColumnSearch) {\n        if(searchText && searchText !== \"\") {\n        searchText = searchText;\n        }else  {  \n        searchText = '';\n        }\n         let page = 1;\n         this.updateProvidersList(page, this.state.sizePerPage, this.state.sortName, this.state.sortOrder, searchText);\n      }\n      updateProvidersList(page, sizePerPage, sortName, sortOrder, searchText){\n        if(searchText && searchText !== \"\") {\n          searchText = searchText;\n        }else if(this.state.searchText && this.state.searchText !== \"\") {\n          searchText = this.state.searchText;\n        }else {\n          searchText = '';\n        }\n        \n        let tablefilterdata = {\n          page: page,\n          sizeperpage: sizePerPage,\n          sortname: sortName,\n          sortorder: sortOrder,\n          serchtext: searchText,\n          defaultSearchText: searchText\n    \n        };\n        axios.post(AppConstants.API+'/parent/getParentTodosStatus/'+ this.props.data, tablefilterdata).then(res => {\n            console.log(res.data.data[0])\n            var child_data = [];\n            if (res.data.Status === 'Success') {\n                console.log(\"res.data.data\",res.data)\n                // if(res.data.data[0]){\n                //     child_data = res.data.data[0].todos_data\n                // }\n              this.setState({\n                parents: res.data.data,\n                currentPage: page,\n                sizePerPage: sizePerPage,\n                sortName: sortName,\n                sortOrder: sortOrder,\n                serchtext: searchText,\n                defaultSearchText: searchText\n      \n              });\n            }         \n          });\n        axios.post(AppConstants.API+'/parent/getParentTodosStatusCount/'+this.props.data, tablefilterdata).then(res => {\n          if (res.data.Status === 'Success') {\n            this.setState({\n              totalDataSize: res.data.data,\n                serchText: searchText,\n                defaultSearchText: searchText\n            });\n          }         \n        });\n      }\n    handleDueDate(cell,row){\n        var today = moment(new Date).format('MM-DD-YYYY');\n        var dueDate = moment(cell).add(row.period, 'd').format('MM-DD-YYYY')\n        if(dueDate<today){\n            // console.log(\"duebbbbbbbbbbb\",dueDate)\n            return(\n                <span className=\"overdue-todo\">\n                    {dueDate}\n                </span>\n            )\n        }\n        else{\n            return(\n                <span>\n                    {dueDate}\n                </span>\n            )  \n        }\n    }\n    handleResource(cell,row){\n        var arr = []\n        cell.map((item,index)=>{\n            row.resources_id.map((item1,i)=>{\n                  var data1 = {}\n                if(i==index){\n                    // console.log(item,item1)\n                    data1[\"name\"]=item\n                    data1[\"id\"] =item1\n                    arr.push(data1)\n                 }\n                \n            })\n            \n        })\n       return(\n        <span>\n            {arr.map((data,i)=>{\n            return (<Link to={'/viewResource/'+data.id} target=\"_blank\">{data.name}, </Link>)\n        })}\n        </span> \n       )\n    }\n    handleCompletedDate(cell,row){\n        if(cell.length!=0){\n            // console.log(moment(cell[0]).format('MM-DD-YYYY'))\n            return (moment(cell[0]).format('MM-DD-YYYY'))\n        }\n        else{\n            return(<span>N/A</span>)\n        }\n    }\n    handleStatus(cell, row){\n        if(cell!=0){\n            return (<span className=\"mr-1 badge badge-success  p-1\">Complete</span>)\n        }else{\n            return (<span  className=\"mr-1 badge badge-warning p-1\">Pending</span>)\n        }\n    }\n    handleProgram(cell, row){\n        console.log(row,cell)\n        return(cell)\n    }\n    render(){\n        const options = {\n\n            insertText: \"New\",\n      \n            deleteText: 'Delete',\n      \n            saveText: 'Save',\n      \n            closeText: 'Close',\n      \n            insertBtn: this.createCustomInsertButton,\n          \n            page: this.state.currentPage,  // which page you want to show as default\n      \n            sizePerPageList: [ 5, 10, 20, 50], // you can change the dropdown list for size per page\n      \n            sizePerPage: this.state.sizePerPage,  // which size per page you want to locate as default\n      \n            pageStartIndex: 1, // where to start counting the pages\n      \n            paginationSize: 3,  // the pagination bar size.\n      \n            paginationShowsTotal: this.renderShowsTotal,  //this.renderShowsTotal- Accept bool or function\n\n            // paginationShowsTotal : this.state.child_todos.length,\n      \n            paginationPosition: 'bottom',  // default is bottom, top and both is all available\n      \n            onPageChange: this.onPageChange,\n      \n            onSizePerPageList: this.onSizePerPageList,\n      \n            onSortChange: this.onSortChange,\n      \n            onSearchChange: this.onSearchChange,\n      \n            insertModal: this.createCustomModal, \n      \n        }\n        return(\n            <Row className=\"mx-0\">\n                <Card className=\"pt-0\">\n                    <CardHeader className=\"d-flex justify-content-between\">\n                        <Label for=\"examplePassword\" className=\"m-0\"><strong><img src={ParentIcon} />TO-DO LISTS</strong></Label>\n                    </CardHeader>\n                    <CardBody>\n                        <div>\n                            <BootstrapTable data={this.state.parents} remote = { true } \n                                pagination={true} fetchInfo={ { dataTotalSize: this.state.totalDataSize } }\n                                 search={true}\n                                 multiColumnSearch={true} \n                                 options={options} \n                            >\n                                <TableHeaderColumn dataField='todo_id' isKey={true} searchable={false} dataSort={true} hidden={true}>ID</TableHeaderColumn>\n                                <TableHeaderColumn dataField='title'  dataSort={true} width={'20%'}>Title</TableHeaderColumn>\n                                <TableHeaderColumn dataField='child_name'  dataSort={true} width={'20%'}>Child</TableHeaderColumn>\n                                <TableHeaderColumn dataField='program' dataFormat={this.handleProgram.bind(this)} dataSort={true} width={'20%'}>Program</TableHeaderColumn>\n                                {/* <TableHeaderColumn dataField='resources_name' dataFormat={this.handleResource.bind(this)} dataSort={true} width={'20%'}>Resources</TableHeaderColumn> */}\n                                <TableHeaderColumn dataField='dueDate'  dataSort={true} width={'20%'} dataFormat={this.handleDueDate.bind(this)}>Due Date</TableHeaderColumn>\n                                {/* <TableHeaderColumn dataField='completed_date'  dataSort={true} width={'20%'} dataFormat={this.handleCompletedDate.bind(this)}>Completed Date</TableHeaderColumn> */}\n                                <TableHeaderColumn dataField='pendingData'  dataSort={true} width={'20%'} dataFormat={this.handleStatus.bind(this)}>Status</TableHeaderColumn>\n                            </BootstrapTable>\n                        </div>\n                    </CardBody>\n                </Card>\n            </Row>\n        )\n    }\n}\nconst mapStateToProps = (state) => ({\n    auth: state.auth,\n    errors: state.errors\n});\nexport default connect(mapStateToProps, {})(ViewParentTodos);"]},"metadata":{},"sourceType":"module"}