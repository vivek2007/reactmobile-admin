{"ast":null,"code":"import _classCallCheck from \"/var/www/nodejs/Wellness/WellnessAdmin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/nodejs/Wellness/WellnessAdmin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/nodejs/Wellness/WellnessAdmin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/nodejs/Wellness/WellnessAdmin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/nodejs/Wellness/WellnessAdmin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/var/www/nodejs/Wellness/WellnessAdmin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/var/www/nodejs/Wellness/WellnessAdmin/src/pages/ChangepasswordPage.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Row, Col, Card, CardHeader, CardBody, Button, Form, FormGroup, Label, Input //FormText,\n//FormFeedback,\n} from 'reactstrap'; // import {\n//   MdCreate,\n//   MdDelete,\n//   MdRemoveRedEye,\n//   MdLaunch,\n//   MdAdd,\n// } from 'react-icons/md';\n\nimport Page from 'components/Page';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport AppConstants from 'AppConstants';\nimport { ReactTitle } from 'react-meta-tags';\nimport Loading from 'assets/img/loader.gif';\n\nvar ChangepasswordPage = /*#__PURE__*/function (_React$Component) {\n  _inherits(ChangepasswordPage, _React$Component);\n\n  function ChangepasswordPage(props) {\n    var _this;\n\n    _classCallCheck(this, ChangepasswordPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ChangepasswordPage).call(this, props));\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n\n      if (_this.handleValidation()) {\n        _this.setState({\n          loading: 1\n        });\n\n        var changepwd = {\n          id: _this.props.auth.user._id,\n          oldpassword: _this.state.fields['oldpassword'],\n          newpassword: _this.state.fields['newpassword']\n        };\n        axios.post(AppConstants.API + '/users/changeAdminPassword/', changepwd).then(function (res) {\n          if (res.data.status == \"Success\") {\n            setTimeout(function (e) {\n              _this.props.history.push('/dashboard');\n            }, 2000);\n\n            _this.setState({\n              errMsg: /*#__PURE__*/React.createElement(\"div\", {\n                className: \"alert alert-success fade show mt-3\",\n                __self: _assertThisInitialized(_assertThisInitialized(_this)),\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 22\n                }\n              }, res.data.msg),\n              loading: ''\n            });\n\n            setTimeout(function () {\n              _this.setState({\n                errMsg: ''\n              });\n            }, 2000);\n          } else {\n            _this.setState({\n              errMsg: /*#__PURE__*/React.createElement(\"div\", {\n                className: \"alert alert-danger fade show mt-3\",\n                __self: _assertThisInitialized(_assertThisInitialized(_this)),\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 22\n                }\n              }, res.data.msg),\n              loading: ''\n            });\n\n            setTimeout(function () {\n              _this.setState({\n                errMsg: ''\n              });\n            }, 2000);\n          }\n        });\n      }\n    };\n\n    _this.state = {\n      _id: _this.props.auth.user._id,\n      fields: {},\n      errors: {},\n      errMsg: '',\n      loading: ''\n    };\n    return _this;\n  }\n\n  _createClass(ChangepasswordPage, [{\n    key: \"handleChange\",\n    value: function handleChange(field, e) {\n      var fields = this.state.fields;\n      fields[field] = e.target.value;\n      this.setState({\n        fields: fields\n      });\n    }\n    /** Validations */\n\n  }, {\n    key: \"handleValidation\",\n    value: function handleValidation() {\n      var fields = this.state.fields;\n      var errors = {};\n      var formIsValid = true;\n\n      if (!fields[\"oldpassword\"]) {\n        formIsValid = false;\n        errors[\"oldpassword\"] = \"Please enter current password\";\n      }\n\n      if (!fields[\"newpassword\"]) {\n        formIsValid = false;\n        errors[\"newpassword\"] = \"Please enter new password\";\n      }\n\n      if (!fields[\"renewpassword\"]) {\n        formIsValid = false;\n        errors[\"renewpassword\"] = \"Please re enter new password\";\n      } else if (fields[\"newpassword\"] != fields[\"renewpassword\"]) {\n        formIsValid = false;\n        errors[\"renewpassword\"] = \"New password's are doesn't match.\";\n      }\n      /* if(fields[\"newpassword\"] != fields[\"renewpassword\"]){\n        formIsValid = false;\n        errors[\"renewpassword\"] = \"New password does not match\";\n      }  */\n\n\n      this.setState({\n        errors: errors\n      });\n      return formIsValid;\n    } // handleSubmit = event => {\n    //   event.preventDefault();\n    //   if(this.handleValidation()){\n    //     const changepwd = {\n    //       id:this.props.auth.user._id,\n    //       oldpassword: this.state.fields['oldpassword'],\n    //       newpassword: this.state.fields['newpassword']\n    //     }\n    //     axios.post(AppConstants.API+'/user/changeAdminPassword/',changepwd) \n    //       .then(res => {   \n    //         console.log(res);   \n    //       if(res.data.status == \"Success\"){\n    // \t  setTimeout((e) => {\n    //             this.props.history.push('/dashboard');\n    //         }, 2000);\n    //         this.setState({\n    //           errMsg: (<div className=\"alert alert-success fade show mt-3\">{res.data.msg}</div>)\n    //         });\n    //       }\n    //       else{\n    //         this.setState({\n    //           errMsg: (<div className=\"alert alert-danger fade show mt-3\">{res.data.msg}</div>)\n    //         });\n    //       }\n    //     });\n    //   }\n    // };  \n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var user = this.props.auth.user;\n      var open = this.state.open;\n      return /*#__PURE__*/React.createElement(Page, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(ReactTitle, {\n        title: \"Change Password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 10\n        }\n      }), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        xl: 6,\n        lg: 8,\n        md: 12,\n        className: \"m-auto\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"p-0 mb-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        className: \"cst-head-col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 13\n        }\n      }, \"Change Password\"), /*#__PURE__*/React.createElement(CardBody, {\n        className: \"mx-4 my-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Form, {\n        name: \"changeadminpassword\",\n        onSubmit: this.handleSubmit.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        row: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"examplepassword\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 19\n        }\n      }, \"Current Password \", /*#__PURE__*/React.createElement(\"span\", {\n        className: \"error\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 38\n        }\n      }, \"*\")), /*#__PURE__*/React.createElement(Input, {\n        type: \"password\",\n        name: \"oldpassword\",\n        placeholder: \"Current password\",\n        onChange: this.handleChange.bind(this, \"oldpassword\"),\n        value: this.state.fields[\"oldpassword\"],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"error\",\n        style: {\n          color: 'red'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 21\n        }\n      }, this.state.errors[\"oldpassword\"])), /*#__PURE__*/React.createElement(FormGroup, {\n        row: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"examplepassword\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 19\n        }\n      }, \"New Password \", /*#__PURE__*/React.createElement(\"span\", {\n        className: \"error\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 34\n        }\n      }, \"*\")), /*#__PURE__*/React.createElement(Input, {\n        type: \"password\",\n        name: \"newpassword\",\n        placeholder: \"New password\",\n        onChange: this.handleChange.bind(this, \"newpassword\"),\n        value: this.state.fields[\"newpassword\"],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"error\",\n        style: {\n          color: 'red'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 21\n        }\n      }, this.state.errors[\"newpassword\"])), /*#__PURE__*/React.createElement(FormGroup, {\n        row: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"examplepassword\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 19\n        }\n      }, \"Re-enter New Password\", /*#__PURE__*/React.createElement(\"span\", {\n        className: \"error\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 42\n        }\n      }, \"*\")), /*#__PURE__*/React.createElement(Input, {\n        type: \"password\",\n        name: \"renewpassword\",\n        placeholder: \"Re-enter new password\",\n        onChange: this.handleChange.bind(this, \"renewpassword\"),\n        value: this.state.fields[\"renewpassword\"],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"error\",\n        style: {\n          color: 'red'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 21\n        }\n      }, this.state.errors[\"renewpassword\"])), /*#__PURE__*/React.createElement(FormGroup, {\n        className: \"pt-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        className: \"d-flex justify-content-center \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        className: \"btn btn-primary\",\n        onClick: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 19\n        }\n      }, \"Change Password\", /*#__PURE__*/React.createElement(\"div\", {\n        style: this.state.loading ? {} : {\n          display: 'none'\n        },\n        className: \"image-fill w-25 loader-div\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 21\n        }\n      }, \"               \", /*#__PURE__*/React.createElement(\"div\", {\n        class: \"clearfix\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 134\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"spinner-border spinner-border-sm\",\n        role: \"status\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 3\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        class: \"sr-only\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 5\n        }\n      }, \"Loading...\"))))), /*#__PURE__*/React.createElement(Link, {\n        to: \"/dashboard\",\n        className: \"btn btn-danger\",\n        title: \"Cancel\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 21\n        }\n      }, \"\\xA0Cancel\"), \"\\xA0\")), this.state.errMsg))))));\n    }\n  }]);\n\n  return ChangepasswordPage;\n}(React.Component);\n\nChangepasswordPage.propTypes = {\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    errors: state.errors\n  };\n}; //export default ChangepasswordPage;\n\n\nexport default connect(mapStateToProps, {})(ChangepasswordPage);","map":{"version":3,"sources":["/var/www/nodejs/Wellness/WellnessAdmin/src/pages/ChangepasswordPage.js"],"names":["React","Link","Row","Col","Card","CardHeader","CardBody","Button","Form","FormGroup","Label","Input","Page","axios","PropTypes","connect","AppConstants","ReactTitle","Loading","ChangepasswordPage","props","handleSubmit","event","preventDefault","handleValidation","setState","loading","changepwd","id","auth","user","_id","oldpassword","state","fields","newpassword","post","API","then","res","data","status","setTimeout","e","history","push","errMsg","msg","errors","field","target","value","formIsValid","open","bind","handleChange","color","display","Component","propTypes","object","isRequired","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport  { Link } from 'react-router-dom';\nimport {\n  Row,\n  Col,\n  Card,\n  CardHeader,\n  CardBody,\n  Button,\n  Form,\n  FormGroup,\n  Label,\n  Input,\n  //FormText,\n  //FormFeedback,\n} from 'reactstrap';\n// import {\n//   MdCreate,\n//   MdDelete,\n//   MdRemoveRedEye,\n//   MdLaunch,\n//   MdAdd,\n// } from 'react-icons/md';\n\nimport Page from 'components/Page';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport AppConstants from 'AppConstants';\nimport {ReactTitle} from 'react-meta-tags';\nimport Loading from 'assets/img/loader.gif';\n\n\nclass ChangepasswordPage extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      _id:this.props.auth.user._id,\n      fields: {},\n      errors: {},\n      errMsg:'',\n      loading:''\n    }\n  }\n\n  handleChange(field, e){    \t\t\n    let fields = this.state.fields;\n    fields[field] = e.target.value;        \n    this.setState({fields});\n  }\n  /** Validations */\n  handleValidation(){\n    let fields = this.state.fields;\n    let errors = {};\n    let formIsValid = true;\n\n    if(!fields[\"oldpassword\"]){\n      formIsValid = false;\n      errors[\"oldpassword\"] = \"Please enter current password\";\n    }\n    if(!fields[\"newpassword\"]){\n      formIsValid = false;\n      errors[\"newpassword\"] = \"Please enter new password\";\n    }\n    if(!fields[\"renewpassword\"]){\n      formIsValid = false;\n      errors[\"renewpassword\"] = \"Please re enter new password\";\n    }\n    else if(fields[\"newpassword\"] != fields[\"renewpassword\"]){\n      formIsValid = false;\n      errors[\"renewpassword\"] = \"New password's are doesn't match.\";\n    }\n    /* if(fields[\"newpassword\"] != fields[\"renewpassword\"]){\n      formIsValid = false;\n      errors[\"renewpassword\"] = \"New password does not match\";\n    }  */\n    \n    \n\n    this.setState({errors: errors});\n    return formIsValid;\n  }\n\n  // handleSubmit = event => {\n  //   event.preventDefault();\n  //   if(this.handleValidation()){\n  //     const changepwd = {\n  //       id:this.props.auth.user._id,\n  //       oldpassword: this.state.fields['oldpassword'],\n  //       newpassword: this.state.fields['newpassword']\n  //     }\n  //     axios.post(AppConstants.API+'/user/changeAdminPassword/',changepwd) \n  //       .then(res => {   \n  //         console.log(res);   \n  //       if(res.data.status == \"Success\"){\n\t// \t  setTimeout((e) => {\n  //             this.props.history.push('/dashboard');\n  //         }, 2000);\n  //         this.setState({\n  //           errMsg: (<div className=\"alert alert-success fade show mt-3\">{res.data.msg}</div>)\n  //         });\n  //       }\n  //       else{\n  //         this.setState({\n  //           errMsg: (<div className=\"alert alert-danger fade show mt-3\">{res.data.msg}</div>)\n  //         });\n  //       }\n  //     });\n  //   }\n    \n  // };  \n  handleSubmit = event => {\n    event.preventDefault();\n    if(this.handleValidation()){\n      this.setState({loading:1});\n      const changepwd = {\n        id:this.props.auth.user._id,\n        oldpassword: this.state.fields['oldpassword'],\n        newpassword: this.state.fields['newpassword']\n      }\n      axios.post(AppConstants.API+'/users/changeAdminPassword/',changepwd) \n        .then(res => {   \n           \n        if(res.data.status == \"Success\"){\n       \n\t\t  setTimeout((e) => {\n              this.props.history.push('/dashboard');\n          }, 2000);\n          this.setState({\n            \n            errMsg: (<div className=\"alert alert-success fade show mt-3\">{res.data.msg}</div>),loading:''\n          });\n          setTimeout(() => {\n            this.setState({\n              errMsg: ''\n            });\n          }, 2000);\n        }\n        else{\n          this.setState({\n            errMsg: (<div className=\"alert alert-danger fade show mt-3\">{res.data.msg}</div>),loading:''\n          });\n          setTimeout(() => {\n            this.setState({\n              errMsg: ''\n            });\n          }, 2000);\n        }\n      });\n    }\n    \n  };  \n  \n  \n  \n  render() {\n    const {user} = this.props.auth;\n    const { open } = this.state;\n  return (\n    <Page>\n         <ReactTitle title=\"Change Password\"/>\n\n      <Row>\n      \n        <Col xl={6} lg={8} md={12} className=\"m-auto\">\n          <Card className=\"p-0 mb-5\">\n            <CardHeader className=\"cst-head-col\">Change Password</CardHeader>\n            <CardBody className=\"mx-4 my-2\">\n                \n              <Form name=\"changeadminpassword\" onSubmit= {this.handleSubmit.bind(this)}>\n               \n                  {/* <span className=\"error\" style={{color: 'red'}}>{this.state.errMsg}</span> */}\n             \n            \n\n                <FormGroup row>\n                  <Label for=\"examplepassword\">\n                    Current Password <span className=\"error\">*</span>\n                  </Label>\n              \n                    <Input\n                      type=\"password\"\n                      name=\"oldpassword\"\n                      placeholder=\"Current password\"\n                      onChange={this.handleChange.bind(this, \"oldpassword\")}\n                      value={this.state.fields[\"oldpassword\"]}\n                    />\n                    <span className=\"error\" style={{color: 'red'}}>{this.state.errors[\"oldpassword\"]}</span>\n            \n                </FormGroup>\n                <FormGroup row>\n                  <Label for=\"examplepassword\">\n                    New Password <span className=\"error\">*</span>\n                  </Label>\n            \n                    <Input\n                      type=\"password\"\n                      name=\"newpassword\"\n                      placeholder=\"New password\"\n                      onChange={this.handleChange.bind(this, \"newpassword\")}\n                      value={this.state.fields[\"newpassword\"]}\n                    />\n                    <span className=\"error\" style={{color: 'red'}}>{this.state.errors[\"newpassword\"]}</span>\n          \n                </FormGroup>\n                <FormGroup row>\n                  <Label for=\"examplepassword\" >\n                    Re-enter New Password<span className=\"error\">*</span>\n                  </Label>\n            \n                    <Input\n                      type=\"password\"\n                      name=\"renewpassword\"\n                      placeholder=\"Re-enter new password\"\n                      onChange={this.handleChange.bind(this, \"renewpassword\")}\n                      value={this.state.fields[\"renewpassword\"]}\n                    />\n                    <span className=\"error\" style={{color: 'red'}}>{this.state.errors[\"renewpassword\"]}</span>\n             \n                </FormGroup>          \n                <FormGroup className=\"pt-3\">\n                  <Col className=\"d-flex justify-content-center \" >\n                  <Button className=\"btn btn-primary\" onClick={this.handleSubmit}>Change Password\n                    <div style={this.state.loading ? {} : { display: 'none' }} className=\"image-fill w-25 loader-div\">               <div class=\"clearfix\">\n  <div class=\"spinner-border spinner-border-sm\" role=\"status\">\n    <span class=\"sr-only\">Loading...</span>\n  </div>\n</div></div></Button>\n                    <Link to={\"/dashboard\"} className=\"btn btn-danger\" title=\"Cancel\">{/* <MdAdd /> */}&nbsp;Cancel</Link>\n                    &nbsp;\n                   \n                   \n                  </Col>\n                </FormGroup>\n                {this.state.errMsg}\n              </Form>\n            \n            </CardBody>\n          </Card>\n        </Col>\n      \n      \n\n\n\n\n\n\n\n\n\n\n\n\n        \n    \n      </Row>\n     \n    </Page>\n  );\n};\n}\n\nChangepasswordPage.propTypes = {\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\nconst mapStateToProps = (state) => ({\n  auth: state.auth,\n  errors: state.errors\n});\n\n//export default ChangepasswordPage;\nexport  default connect(mapStateToProps, {})(ChangepasswordPage);\n"]},"metadata":{},"sourceType":"module"}