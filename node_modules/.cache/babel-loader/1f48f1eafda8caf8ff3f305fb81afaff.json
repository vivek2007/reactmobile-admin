{"ast":null,"code":"import _classCallCheck from \"/var/www/nodejs/Wellness/WellnessAdmin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/nodejs/Wellness/WellnessAdmin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/nodejs/Wellness/WellnessAdmin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/nodejs/Wellness/WellnessAdmin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/nodejs/Wellness/WellnessAdmin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/var/www/nodejs/Wellness/WellnessAdmin/src/components/Layout/Header.js\";\nimport React from 'react';\nimport bn from 'utils/bemnames';\nimport { Navbar // NavbarToggler,\n, Nav, NavItem, NavLink, Popover, PopoverBody, ListGroup, ListGroupItem, Button } from 'reactstrap';\nimport { //MdNotificationsActive,\n// MdNotificationsNone,\n// MdInsertChart,\n// MdPersonPin,\n// MdMessage,\n// MdSettingsApplications,\n// MdHelp,\n// MdClearAll,\nMdMenu, MdExitToApp } from 'react-icons/md';\nimport { Link } from 'react-router-dom'; //import userImage from 'assets/img/users/100_4.jpg';\n\nimport profileIcon from 'assets/img/profile-icon.png';\nimport profileeditIcon from 'assets/img/profile-edit-icon.png';\nimport changePassIcon from 'assets/img/change-pass-icon.png'; //import Avatar from 'components/Avatar';\n\nimport { UserCard } from 'components/Card'; //import Notifications from 'components/Notifications';\n//import SearchInput from 'components/SearchInput';\n//import withBadge from 'hocs/withBadge';\n// import { notificationsData } from 'demos/header';\n// import axios from 'axios';\n\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { logoutUser, getProfile } from 'actions/authentication';\nimport AppConstants from 'AppConstants';\nimport placeholderimg from '../../assets/img/placeholder.png';\nvar bem = bn.create('header'); // const MdNotificationsActiveWithBadge = withBadge({\n//   size: 'md',\n//   color: 'primary',\n//   style: {\n//     top: -10,\n//     right: -10,\n//     display: 'inline-flex',\n//     justifyContent: 'center',\n//     alignItems: 'center',\n//   },\n//   children: <small>5</small>,\n// })(MdNotificationsActive);\n\nvar Header = /*#__PURE__*/function (_React$Component) {\n  _inherits(Header, _React$Component);\n\n  function Header(props) {\n    var _this;\n\n    _classCallCheck(this, Header);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Header).call(this, props));\n\n    _this.toggleNotificationPopover = function () {\n      _this.setState({\n        isOpenNotificationPopover: !_this.state.isOpenNotificationPopover\n      });\n\n      if (!_this.state.isNotificationConfirmed) {\n        _this.setState({\n          isNotificationConfirmed: true\n        });\n      }\n    };\n\n    _this.toggleUserCardPopover = function () {\n      _this.setState({\n        isOpenUserCardPopover: !_this.state.isOpenUserCardPopover\n      });\n    };\n\n    _this.handleSidebarControlButton = function (event) {\n      event.preventDefault();\n      event.stopPropagation();\n      document.querySelector('.cr-sidebar').classList.toggle('cr-sidebar--open');\n    };\n\n    _this.getViewProfile = function (event) {\n      _this.toggleUserCardPopover();\n    };\n\n    _this.getEditProfile = function (event) {\n      _this.toggleUserCardPopover();\n    };\n\n    _this.getChangePassword = function (event) {\n      _this.toggleUserCardPopover();\n    };\n\n    _this.getUploadProfilePic = function (event) {\n      _this.toggleUserCardPopover();\n    };\n\n    _this.state = {\n      _id: _this.props.auth.user._id,\n      firstname: '',\n      username: '',\n      lastname: '',\n      email: '',\n      user_type: '',\n      profile_img: '',\n      isOpenNotificationPopover: false,\n      isNotificationConfirmed: false,\n      isOpenUserCardPopover: false\n    };\n    return _this;\n  }\n\n  _createClass(Header, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      //const that = this;       \n      // this.props.getProfile(this.state._id)\n      this.props.getProfile(this.props.auth.user._id); //AppConstants.API\n\n      /* axios.get('/users/profile/'+this.props.auth.user._id)\n      .then(res => {      \n        if(res.data.Status == \"Success\"){\n          this.setState({\n            username:res.data.data.username,\n            email:res.data.data.email,\n            profile_img:res.data.data.profile_img,\n          });\n        }\n        else{\n        }\n      }) */\n      // console.log(this.props.auth.user._id);\n      // fetch(AppConstants.API+'/users/profile/'+this.props.auth.user._id)\n      // .then(function(res) {\n      //   //if(res.status == 200){\n      //     //console.log(\"user\", res);\n      //     if(res.status === 200){\n      //     return res.json();\n      //   }\n      // })\n      // .then(function(data) {\n      //   if(data.Status === \"Success\"){\n      //    // console.log(\"user_type:\", data.data);\n      //     that.setState({\n      //       firstname:data.data.firstname,\n      //       lastname:data.data.lastname,\n      //       //username:data.data.username,\n      //       user_type:data.data.user_type,\n      //       email:data.data.email,\n      //       profile_img:data.data.profile_image,\n      //     });\n      //   }else\n      //   {\n      //   }\n      // });\n    }\n  }, {\n    key: \"onLogout\",\n    value: function onLogout(e) {\n      e.preventDefault();\n      this.props.logoutUser(this.props.history);\n    }\n  }, {\n    key: \"render\",\n\n    /* getUploadProfilePic = event => {\n      this.toggleUserCardPopover();\n    } */\n    value: function render() {\n      var user = this.props.auth.user;\n      var username = \"\".concat(user.firstname, \" \").concat(user.lastname); // console.log(\"this.state.profile_img\",this.state.profile_img);\n\n      var image;\n\n      if (user.profile_image == '' && user.profile_image == undefined) {\n        image = placeholderimg;\n      } else {\n        image = user.profile_image;\n      }\n\n      var admin_type;\n\n      if (this.state.user_type == 'admin') {\n        admin_type = \"Admin\";\n      } else {\n        admin_type = \"Super Admin\";\n      }\n\n      return /*#__PURE__*/React.createElement(Navbar, {\n        light: true,\n        expand: true,\n        className: bem.b('bg-white'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Nav, {\n        navbar: true,\n        className: \"mr-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        outline: true,\n        onClick: this.handleSidebarControlButton,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(MdMenu, {\n        size: 25,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 13\n        }\n      }))), /*#__PURE__*/React.createElement(Nav, {\n        navbar: true,\n        className: bem.e('nav-right'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(NavItem, {\n        className: \"wel-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 5\n        }\n      }, \"Welcome,\", /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 43\n        }\n      }, username, /*#__PURE__*/React.createElement(\"em\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 59\n        }\n      }, admin_type))), /*#__PURE__*/React.createElement(NavItem, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(NavLink, {\n        id: \"Popover2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: image,\n        onClick: this.toggleUserCardPopover,\n        className: \"can-click\",\n        style: {\n          width: 40,\n          height: 40,\n          borderRadius: 50\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(Popover, {\n        placement: \"bottom-end\",\n        isOpen: this.state.isOpenUserCardPopover,\n        toggle: this.toggleUserCardPopover,\n        target: \"Popover2\",\n        className: \"p-0 border-0\",\n        style: {\n          minWidth: 250\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(PopoverBody, {\n        className: \"p-0 border-light\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(UserCard //title={this.state.firstname +\" \"+ this.state.lastname}\n      , {\n        title: username,\n        subtitle: this.state.email,\n        className: \"border-light\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(ListGroup, {\n        flush: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(ListGroupItem, {\n        tag: \"li\",\n        action: true,\n        className: \"border-light\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"figure\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 23\n        }\n      }, \" \", /*#__PURE__*/React.createElement(\"img\", {\n        src: profileIcon,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 32\n        }\n      })), /*#__PURE__*/React.createElement(Link, {\n        to: \"/viewadminprofile\",\n        onClick: this.getViewProfile.bind(this),\n        style: {\n          color: \"#212529\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 23\n        }\n      }, \"View Profile\")), /*#__PURE__*/React.createElement(ListGroupItem, {\n        tag: \"li\",\n        action: true,\n        className: \"border-light\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"figure\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 21\n        }\n      }, \" \", /*#__PURE__*/React.createElement(\"img\", {\n        src: profileeditIcon,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 30\n        }\n      })), /*#__PURE__*/React.createElement(Link, {\n        to: \"/editadminprofile\",\n        onClick: this.getEditProfile.bind(this),\n        style: {\n          color: \"#212529\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 23\n        }\n      }, \"Edit Profile\")), /*#__PURE__*/React.createElement(ListGroupItem, {\n        tag: \"li\",\n        action: true,\n        className: \"border-light\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"figure\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 21\n        }\n      }, \" \", /*#__PURE__*/React.createElement(\"img\", {\n        src: changePassIcon,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 30\n        }\n      })), /*#__PURE__*/React.createElement(Link, {\n        to: \"/changeadminpassword\",\n        onClick: this.getChangePassword.bind(this),\n        style: {\n          color: \"#212529\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 23\n        }\n      }, \"Change Password \")), /*#__PURE__*/React.createElement(ListGroupItem, {\n        tag: \"li\",\n        action: true,\n        className: \"border-light\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(MdExitToApp, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 23\n        }\n      }), \" \", /*#__PURE__*/React.createElement(\"a\", {\n        href: \"#\",\n        onClick: this.onLogout.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 39\n        }\n      }, \" Logout \")))))))));\n    }\n  }]);\n\n  return Header;\n}(React.Component); // Header.propTypes = {\n//   logoutUser: PropTypes.func.isRequired,\n//   auth: PropTypes.object.isRequired\n// }\n\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    auth: state.auth\n  };\n}; //export default Header;\n\n\nexport default connect(mapStateToProps, {\n  logoutUser: logoutUser,\n  getProfile: getProfile\n})(withRouter(Header));","map":{"version":3,"sources":["/var/www/nodejs/Wellness/WellnessAdmin/src/components/Layout/Header.js"],"names":["React","bn","Navbar","Nav","NavItem","NavLink","Popover","PopoverBody","ListGroup","ListGroupItem","Button","MdMenu","MdExitToApp","Link","profileIcon","profileeditIcon","changePassIcon","UserCard","PropTypes","connect","withRouter","logoutUser","getProfile","AppConstants","placeholderimg","bem","create","Header","props","toggleNotificationPopover","setState","isOpenNotificationPopover","state","isNotificationConfirmed","toggleUserCardPopover","isOpenUserCardPopover","handleSidebarControlButton","event","preventDefault","stopPropagation","document","querySelector","classList","toggle","getViewProfile","getEditProfile","getChangePassword","getUploadProfilePic","_id","auth","user","firstname","username","lastname","email","user_type","profile_img","e","history","image","profile_image","undefined","admin_type","b","width","height","borderRadius","minWidth","bind","color","onLogout","Component","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport bn from 'utils/bemnames';\nimport {\n  Navbar,\n  // NavbarToggler,\n  Nav,\n  NavItem,\n  NavLink,\n  Popover,\n  PopoverBody,\n  ListGroup,\n  ListGroupItem,\n  Button,\n} from 'reactstrap';\n\nimport {\n  //MdNotificationsActive,\n  // MdNotificationsNone,\n  // MdInsertChart,\n  // MdPersonPin,\n  // MdMessage,\n  // MdSettingsApplications,\n  // MdHelp,\n  // MdClearAll,\n  MdMenu,\n  MdExitToApp,\n} from 'react-icons/md';\nimport { Link } from 'react-router-dom';\n//import userImage from 'assets/img/users/100_4.jpg';\nimport profileIcon from 'assets/img/profile-icon.png';\nimport profileeditIcon from 'assets/img/profile-edit-icon.png';\nimport changePassIcon from 'assets/img/change-pass-icon.png';\n//import Avatar from 'components/Avatar';\nimport { UserCard } from 'components/Card';\n//import Notifications from 'components/Notifications';\n//import SearchInput from 'components/SearchInput';\n\n//import withBadge from 'hocs/withBadge';\n\n// import { notificationsData } from 'demos/header';\n// import axios from 'axios';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { logoutUser,getProfile} from 'actions/authentication';\n\nimport AppConstants from 'AppConstants';\nimport placeholderimg from '../../assets/img/placeholder.png';\nconst bem = bn.create('header');\n\n// const MdNotificationsActiveWithBadge = withBadge({\n//   size: 'md',\n//   color: 'primary',\n//   style: {\n//     top: -10,\n//     right: -10,\n//     display: 'inline-flex',\n//     justifyContent: 'center',\n//     alignItems: 'center',\n//   },\n//   children: <small>5</small>,\n// })(MdNotificationsActive);\n\nclass Header extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      _id:this.props.auth.user._id,\n      firstname:'',\n      username:'',\n      lastname:'',\n      email:'',\n      user_type:'',\n      profile_img:'',\n      isOpenNotificationPopover: false,\n      isNotificationConfirmed: false,\n      isOpenUserCardPopover: false,\n    }\n  }\n  componentDidMount() { \n    //const that = this;       \n   // this.props.getProfile(this.state._id)\n   this.props.getProfile(this.props.auth.user._id)\n    //AppConstants.API\n    /* axios.get('/users/profile/'+this.props.auth.user._id)\n    .then(res => {      \n      if(res.data.Status == \"Success\"){\n        this.setState({\n          username:res.data.data.username,\n          email:res.data.data.email,\n          profile_img:res.data.data.profile_img,\n        });\n      }\n      else{\n      }\n    }) */\n   // console.log(this.props.auth.user._id);\n    // fetch(AppConstants.API+'/users/profile/'+this.props.auth.user._id)\n    // .then(function(res) {\n    //   //if(res.status == 200){\n    //     //console.log(\"user\", res);\n    //     if(res.status === 200){\n    //     return res.json();\n    //   }\n    // })\n    // .then(function(data) {\n    //   if(data.Status === \"Success\"){\n    //    // console.log(\"user_type:\", data.data);\n    //     that.setState({\n    //       firstname:data.data.firstname,\n    //       lastname:data.data.lastname,\n    //       //username:data.data.username,\n    //       user_type:data.data.user_type,\n    //       email:data.data.email,\n    //       profile_img:data.data.profile_image,\n    //     });\n    //   }else\n    //   {\n    //   }\n    // });\n  }\n\n  toggleNotificationPopover = () => {\n    this.setState({\n      isOpenNotificationPopover: !this.state.isOpenNotificationPopover,\n    });\n\n    if (!this.state.isNotificationConfirmed) {\n      this.setState({ isNotificationConfirmed: true });\n    }\n  };\n\n  toggleUserCardPopover = () => {\n    this.setState({\n      isOpenUserCardPopover: !this.state.isOpenUserCardPopover,\n    });\n  };\n\n  handleSidebarControlButton = event => {\n    event.preventDefault();\n    event.stopPropagation();\n\n    document.querySelector('.cr-sidebar').classList.toggle('cr-sidebar--open');\n  };\n  \n  onLogout(e) {\n    e.preventDefault();\n    this.props.logoutUser(this.props.history);\n  }\n\n  getViewProfile = event => {\n    this.toggleUserCardPopover();\n  }\n\n  getEditProfile = event => {\n    this.toggleUserCardPopover();\n  }\n\n  getChangePassword = event => {\n    this.toggleUserCardPopover();\n  }\n\n  getUploadProfilePic = event => {\n    this.toggleUserCardPopover();\n  }\n\n  /* getUploadProfilePic = event => {\n    this.toggleUserCardPopover();\n  } */\n  \n\n  render() {\n    const {user} = this.props.auth;\n    var username = `${user.firstname} ${user.lastname}`;\n   // console.log(\"this.state.profile_img\",this.state.profile_img);\n\tlet image;\n    if (user.profile_image == '' && user.profile_image == undefined) {\n      image = placeholderimg;\n    }\n    else{\n      image = user.profile_image;\n    }\n\nlet admin_type;\n    if (this.state.user_type == 'admin') {\n      admin_type = \"Admin\";\n    }\n    else{\n      admin_type = \"Super Admin\";\n    }\n    return (\n      <Navbar light expand className={bem.b('bg-white')}>\n        <Nav navbar className=\"mr-2\">\n          <Button outline onClick={this.handleSidebarControlButton}>\n            {/* <MdClearAll size={25} /> */}\n            <MdMenu size={25} />\n          </Button>\n        </Nav>\n      \n\n        <Nav navbar className={bem.e('nav-right')}>  \n    <NavItem className=\"wel-text\">Welcome,<span>{username}<em>{admin_type}</em></span></NavItem>      \n\n          <NavItem>\n            <NavLink id=\"Popover2\">\n              {/* <Avatar\n                onClick={this.toggleUserCardPopover}\n                className=\"can-click\"\n              /> */}\n              <img src={image} onClick={this.toggleUserCardPopover}\n                className=\"can-click\" style={{width: 40, height: 40,borderRadius:50}}/>\n            </NavLink>\n            <Popover\n              placement=\"bottom-end\"\n              isOpen={this.state.isOpenUserCardPopover} \n              toggle={this.toggleUserCardPopover}\n              target=\"Popover2\"\n              className=\"p-0 border-0\"\n              style={{ minWidth: 250 }}>\n              <PopoverBody className=\"p-0 border-light\">\n                <UserCard\n                  //title={this.state.firstname +\" \"+ this.state.lastname}\n                  title={username}\n                  subtitle={this.state.email}\n                  className=\"border-light\">\n                  <ListGroup flush>\n                    <ListGroupItem tag=\"li\" action className=\"border-light\">\n                      <figure> <img src={profileIcon} /></figure>\n                      <Link to={`/viewadminprofile`} onClick={this.getViewProfile.bind(this)} style={{color:\"#212529\"}}>View Profile</Link>\n                    </ListGroupItem>\n                    <ListGroupItem tag=\"li\" action className=\"border-light\">\n                    <figure> <img src={profileeditIcon} /></figure>\n                      <Link to={`/editadminprofile`} onClick={this.getEditProfile.bind(this)} style={{color:\"#212529\"}}>Edit Profile</Link>\n                    </ListGroupItem>\n                    <ListGroupItem tag=\"li\" action className=\"border-light\">\n                    <figure> <img src={changePassIcon} /></figure>\n                      <Link to={`/changeadminpassword`} onClick={this.getChangePassword.bind(this)} style={{color:\"#212529\"}}>Change Password </Link>\n                    </ListGroupItem>\n                    {/* <ListGroupItem tag=\"button\" action className=\"border-light\">\n                      <MdPersonPin />\n                      <Link to={`/uploadnigpnaic`} onClick={this.getUploadProfilePic.bind(this)} style={{color:\"#212529\"}}>Upload Nigp/Naic </Link>\n                    </ListGroupItem> */}\n                    <ListGroupItem tag=\"li\" action className=\"border-light\">\n                      <MdExitToApp /> <a href=\"#\" onClick={this.onLogout.bind(this)}> Logout </a>\n                    </ListGroupItem>\n                  </ListGroup>\n                </UserCard>\n              </PopoverBody>\n            </Popover>\n          </NavItem>\n        </Nav>\n      </Navbar>\n    );\n  }\n}\n// Header.propTypes = {\n//   logoutUser: PropTypes.func.isRequired,\n//   auth: PropTypes.object.isRequired\n// }\n\nconst mapStateToProps = (state) => ({\n  auth: state.auth\n})\n//export default Header;\nexport default connect(mapStateToProps, { logoutUser,getProfile })(withRouter(Header));\n"]},"metadata":{},"sourceType":"module"}